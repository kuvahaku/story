import{$ as g,a as z,g as K,b as H,c as U,d as M,m as V,r as X,o as Y,E as G}from"./web-cbf01121.js";import{e as J,a as Q}from"./index-5c653d15.js";import"./_commonjsHelpers-725317a4.js";const C=Symbol("store-raw"),S=Symbol("store-node"),b=Symbol("store-has"),B=Symbol("store-self");function L(n){let e=n[g];if(!e&&(Object.defineProperty(n,g,{value:e=new Proxy(n,x)}),!Array.isArray(n))){const r=Object.keys(n),i=Object.getOwnPropertyDescriptors(n);for(let s=0,o=r.length;s<o;s++){const f=r[s];i[f].get&&Object.defineProperty(n,f,{enumerable:i[f].enumerable,get:i[f].get.bind(e)})}}return e}function A(n){let e;return n!=null&&typeof n=="object"&&(n[g]||!(e=Object.getPrototypeOf(n))||e===Object.prototype||Array.isArray(n))}function p(n,e=new Set){let r,i,s,o;if(r=n!=null&&n[C])return r;if(!A(n)||e.has(n))return n;if(Array.isArray(n)){Object.isFrozen(n)?n=n.slice(0):e.add(n);for(let f=0,a=n.length;f<a;f++)s=n[f],(i=p(s,e))!==s&&(n[f]=i)}else{Object.isFrozen(n)?n=Object.assign({},n):e.add(n);const f=Object.keys(n),a=Object.getOwnPropertyDescriptors(n);for(let c=0,t=f.length;c<t;c++)o=f[c],!a[o].get&&(s=n[o],(i=p(s,e))!==s&&(n[o]=i))}return n}function R(n,e){let r=n[e];return r||Object.defineProperty(n,e,{value:r=Object.create(null)}),r}function P(n,e,r){if(n[e])return n[e];const[i,s]=U(r,{equals:!1,internal:!0});return i.$=s,n[e]=i}function Z(n,e){const r=Reflect.getOwnPropertyDescriptor(n,e);return!r||r.get||!r.configurable||e===g||e===S||(delete r.value,delete r.writable,r.get=()=>n[g][e]),r}function W(n){K()&&P(R(n,S),B)()}function k(n){return W(n),Reflect.ownKeys(n)}const x={get(n,e,r){if(e===C)return n;if(e===g)return r;if(e===z)return W(n),r;const i=R(n,S),s=i[e];let o=s?s():n[e];if(e===S||e===b||e==="__proto__")return o;if(!s){const f=Object.getOwnPropertyDescriptor(n,e);K()&&(typeof o!="function"||n.hasOwnProperty(e))&&!(f&&f.get)&&(o=P(i,e,o)())}return A(o)?L(o):o},has(n,e){return e===C||e===g||e===z||e===S||e===b||e==="__proto__"?!0:(K()&&P(R(n,b),e)(),e in n)},set(){return!0},deleteProperty(){return!0},ownKeys:k,getOwnPropertyDescriptor:Z};function d(n,e,r,i=!1){if(!i&&n[e]===r)return;const s=n[e],o=n.length;r===void 0?(delete n[e],n[b]&&n[b][e]&&s!==void 0&&n[b][e].$()):(n[e]=r,n[b]&&n[b][e]&&s===void 0&&n[b][e].$());let f=R(n,S),a;if((a=P(f,e,s))&&a.$(()=>r),Array.isArray(n)&&n.length!==o){for(let c=n.length;c<o;c++)(a=f[c])&&a.$();(a=P(f,"length",o))&&a.$(n.length)}(a=f[B])&&a.$()}function q(n,e){const r=Object.keys(e);for(let i=0;i<r.length;i+=1){const s=r[i];d(n,s,e[s])}}function nn(n,e){if(typeof e=="function"&&(e=e(n)),e=p(e),Array.isArray(e)){if(n===e)return;let r=0,i=e.length;for(;r<i;r++){const s=e[r];n[r]!==s&&d(n,r,s)}d(n,"length",i)}else q(n,e)}function j(n,e,r=[]){let i,s=n;if(e.length>1){i=e.shift();const f=typeof i,a=Array.isArray(n);if(Array.isArray(i)){for(let c=0;c<i.length;c++)j(n,[i[c]].concat(e),r);return}else if(a&&f==="function"){for(let c=0;c<n.length;c++)i(n[c],c)&&j(n,[c].concat(e),r);return}else if(a&&f==="object"){const{from:c=0,to:t=n.length-1,by:l=1}=i;for(let u=c;u<=t;u+=l)j(n,[u].concat(e),r);return}else if(e.length>1){j(n[i],e,[i].concat(r));return}s=n[i],r=[i].concat(r)}let o=e[0];typeof o=="function"&&(o=o(s,r),o===s)||i===void 0&&o==null||(o=p(o),i===void 0||A(s)&&A(o)&&!Array.isArray(o)?q(s,o):d(n,i,o))}function en(...[n,e]){const r=p(n||{}),i=Array.isArray(r),s=L(r);function o(...f){H(()=>{i&&f.length===1?nn(r,f[0]):j(r,f)})}return[s,o]}const N=Symbol("store-root");function O(n,e,r,i,s){const o=e[r];if(n===o)return;const f=Array.isArray(n);if(r!==N&&(!A(n)||!A(o)||f!==Array.isArray(o)||s&&n[s]!==o[s])){d(e,r,n);return}if(f){if(n.length&&o.length&&(!i||s&&n[0]&&n[0][s]!=null)){let t,l,u,h,y,w,T,v;for(u=0,h=Math.min(o.length,n.length);u<h&&(o[u]===n[u]||s&&o[u]&&n[u]&&o[u][s]===n[u][s]);u++)O(n[u],o,u,i,s);const $=new Array(n.length),E=new Map;for(h=o.length-1,y=n.length-1;h>=u&&y>=u&&(o[h]===n[y]||s&&o[u]&&n[u]&&o[h][s]===n[y][s]);h--,y--)$[y]=o[h];if(u>y||u>h){for(l=u;l<=y;l++)d(o,l,n[l]);for(;l<n.length;l++)d(o,l,$[l]),O(n[l],o,l,i,s);o.length>n.length&&d(o,"length",n.length);return}for(T=new Array(y+1),l=y;l>=u;l--)w=n[l],v=s&&w?w[s]:w,t=E.get(v),T[l]=t===void 0?-1:t,E.set(v,l);for(t=u;t<=h;t++)w=o[t],v=s&&w?w[s]:w,l=E.get(v),l!==void 0&&l!==-1&&($[l]=o[t],l=T[l],E.set(v,l));for(l=u;l<n.length;l++)l in $?(d(o,l,$[l]),O(n[l],o,l,i,s)):d(o,l,n[l])}else for(let t=0,l=n.length;t<l;t++)O(n[t],o,t,i,s);o.length>n.length&&d(o,"length",n.length);return}const a=Object.keys(n);for(let t=0,l=a.length;t<l;t++)O(n[a[t]],o,a[t],i,s);const c=Object.keys(o);for(let t=0,l=c.length;t<l;t++)n[c[t]]===void 0&&d(o,c[t],void 0)}function rn(n,e={}){const{merge:r,key:i="id"}=e,s=p(n);return o=>{if(!A(o)||!A(s))return s;const f=O(s,{[N]:o},N,r,i);return f===void 0?o:f}}var[m,D]=en({}),on=async(n=20)=>{await new Promise(e=>setTimeout(e,n))},_,F,I,sn=(n,e)=>{let r=!1;return I!==e.viewMode&&(r=!0),n&&(r=!0),Object.is(_,e.globals)||(r=!0),F!==e.componentId&&(r=!0,cn()),r===!0&&(I=e.viewMode,_=e.globals,F=e.componentId),r},ln=(n,e)=>{let r=e.canvasElement.id;return e.args=m[r].args,n(e.args,e)},pn=(n,e)=>{const{id:r,component:i}=e;if(!i)throw new Error(`Unable to render story ${r} as the component annotation is missing from the default export`);return M(i,V(()=>e.args))},fn=()=>{Object.keys(m).forEach(n=>{m[n]?.disposeFn?.()})},tn=()=>{D(rn({}))},cn=()=>{fn(),tn()},un=n=>{D({[n]:{args:{},rendered:!1,disposeFn:()=>{}}})},an=n=>{m[n]?.disposeFn?.()},dn=n=>{an(n),un(n)},hn=n=>!!m[n]?.rendered,yn=n=>n.viewMode==="docs",bn=(n,e,r)=>{const{storyContext:i,unboundStoryFn:s,showMain:o,showException:f}=e;D(n,"rendered",!0);const a=()=>{const c=s;return Y(()=>{o()}),M(G,{fallback:t=>(f(t),t),get children(){return M(c,i)}})};return X(()=>M(a,{}),r)};async function $n(n,e){const{storyContext:r}=n;let i=n.forceRemount,s=r.canvasElement.id;if(I===void 0&&(I=r.viewMode),_===void 0&&(_=r.globals),F===void 0&&(F=r.componentId),sn(i,r)&&dn(s),D(s,"args",r.args),hn(s)===!1){yn(r)&&await on();const o=bn(s,n,e);D(s,f=>({...f,disposeFn:o}))}}var wn=(n,e)=>n(),An=[wn],gn={docs:{story:{inline:!0},extractComponentDescription:Q}},jn=[J],Pn=[ln,...An],mn=(n,e)=>e.reduce((r,i)=>s=>i(()=>r(s),s),r=>n(r)),Dn={renderer:"solid",...gn};export{mn as applyDecorators,jn as argTypesEnhancers,Pn as decorators,Dn as parameters,pn as render,$n as renderToCanvas};
